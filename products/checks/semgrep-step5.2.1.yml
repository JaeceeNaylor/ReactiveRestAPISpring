rules:
  - id: step4.4.1-postmapping
    languages: [java]
    severity: ERROR
    message: "Step 4.5 incomplete: Add a @PostMapping endpoint that accepts a Product request body."
    paths:
      include:
        - src/main/java/com/example/products/api/ProductController.java
    pattern: |
      @GetMapping(value = "/stream", produces = MediaType.APPLICATION_NDJSON_VALUE)
      public Flux<Product> streamAll() {
        return repo.findAll().delayElements(Duration.ofMillis(100));
      }
